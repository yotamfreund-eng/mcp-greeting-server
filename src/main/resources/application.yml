debug: true

server:
  port: 8080

spring:
  output:
    ansi:
      enabled: never
  application:
    name: mcp-greeting-server

  ai:
    mcp:
      server:
        enabled: true
        protocol: STREAMABLE
        # Server type (SYNC for blocking WebMVC, ASYNC for reactive WebFlux)
        type: SYNC
        version: ${projectVersion}
        # MCP Capabilities (all enabled by default)
        capabilities:
          tool: true
        # Change notifications
        tool-callback-converter: true  # Enable automatic detection and registration of @Tool annotated methods
        tool-change-notification: true  # Enable tool change notifications
        # Streamable HTTP specific settings
        streamable-http:
          mcp-endpoint: /mcp
          keep-alive-interval: 60s
          disallow-delete: false
        # Request timeout (increased to prevent premature disconnects)
        request-timeout: 120s
    openai:
      api-key: ${OPENAI_API_KEY:}
      chat:
        options:
          model: gpt-4
          temperature: 0.7

mcp:
  server:
    name: greeting
    version: 1.0.0
    description: "MCP server providing greeting functionality"

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

logging:
  level:
    root: INFO
    com.example.mcpgreeting: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
